<section class="w-75 mx-auto shadow rounded p-4 my-3 bg-main-light section-bg">
  <h1 class="my-3 text-white">Register Now:</h1>
  <form [formGroup]="registerForm" (ngSubmit)="handleFrom()">

    <div class="form-item">
      <label for="name" class="text-white pb-2">Name:</label>
      <input formControlName="name" type="text" placeholder="Please Your Name" class="form-control" id="name">
      <div *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched" class="alert alert-danger p-1 small w-50 mx-auto">
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('name')?.getError('required')">Name is Required</p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('name')?.getError('minlength')">Name Min Length 3 </p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('name')?.getError('maxlength')"> Name Max Length 20 </p>
      </div>
    </div>

    <div class="form-item">
      <label for="email" class="text-white pb-2">Email:</label>
      <input formControlName="email" type="email" placeholder="Please Your Email" class="form-control" id="email">
      <div *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched" class="alert alert-danger p-1 small w-50 mx-auto">
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('email')?.getError('required')">Email is Required</p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('email')?.getError('email')">Email InValid Format</p>
      </div>
    </div>

    <div class="form-item">
      <label for="password" class="text-white pb-2">Password:</label>
      <input formControlName="password" type="password" placeholder="Please Your Password" class="form-control" id="password">
      <div *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched" class="alert alert-danger p-1 small w-50 mx-auto">
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('password')?.getError('required')">Password is Required</p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('password')?.getError('pattern')">Must be Least 6 Chars</p>
      </div>
    </div>

    <div class="form-item">
      <label for="rePassword" class="text-white pb-2">RePassword:</label>
      <input formControlName="rePassword" type="password" placeholder="Please Your RePassword" class="form-control" id="rePassword">
      <div *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched" class="alert alert-danger p-1 small w-50 mx-auto">
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('rePassword')?.getError('required')">RePassword is Required</p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('rePassword')?.getError('mismatch')">Password confirmation is incorrect</p>
      </div>
    </div>

    <div class="form-item">
      <label for="phone" class="text-white pb-2">Phone:</label>
      <input formControlName="phone" type="tel" placeholder="Please Your Phone" class="form-control" id="phone">
      <div *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched" class="alert alert-danger p-1 small w-50 mx-auto">
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('phone')?.getError('required')">Phone is Required</p>
        <p class="mb-0 text-center fs-6" *ngIf="registerForm.get('phone')?.getError('pattern')">Accept Only Egypt Phone Numbers</p>
      </div>
    </div>

    <div class="pt-3">
      <button [disabled]="registerForm.invalid" class="main-btn mt-2">
        Register
        <span><span *ngIf="isLoading"><i class="fa fa-spin fa-spinner"></i></span></span>
      </button>
    </div>
  </form>
  <p *ngIf="errMsg" class="alert alert-danger p-1 w-50 mx-auto mb-0 text-center fs-6">{{errMsg}}</p>
</section>
